{"version":3,"file":"commonHelpers.js","sources":["../src/pixabay-api.js","../src/render-functions.js","../src/main.js"],"sourcesContent":["export function getPictures(name) {\n  const Key_Api = '44822255-685480c2b82623113acf30a35';\n  const imageType = 'photo';\n  const orientation = 'horizontal';\n  const safeSearch = true;\n  return fetch(\n    `https://pixabay.com/api/?key=${Key_Api}&q=${name}&image_type=${imageType}&orientation=${orientation}&safesearch=${safeSearch}`\n  ).then(res => {\n    console.log(res);\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\n\nexport function galleryRender(arr) {\n  const galleryList = document.querySelector('.js-gallery');\n  galleryList.innerHTML = '';\n\n  const markup = arr\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `\n    <li class=\"gallery-item\">\n    <a href=\"${largeImageURL}\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"card-img\"/>\n    </a>\n    <ul class=\"galery-item-description\">\n    <li>\n    <p class=\"count-text\">Likes</p>\n    <p class=\"count\">${likes}</p>\n    </li>\n    <li>\n    <p class=\"count-text\">Views</p>\n    <p class=\"count\">${views}</p>\n    </li>\n    <li>\n    <p class=\"count-text\">Comments</p>\n    <p class=\"count\">${comments}</p>\n    </li>\n    <li>\n    <p class=\"count-text\">Downloads</p>\n    <p class=\"count\">${downloads}</p>\n    </li>\n    </ul>\n    </li>\n    `\n    )\n    .join('');\n\n  galleryList.insertAdjacentHTML('afterbegin', markup);\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n    overlayOpacity: 0.8,\n  });\n  lightbox;\n}\n","import iziToast from 'izitoast';\nimport { getPictures } from './pixabay-api';\nimport { galleryRender } from './render-functions';\n\nconst form = document.querySelector('.js-search');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', handleSearch);\n\nfunction handleSearch(evt) {\n  evt.preventDefault();\n\n  const curTarget = evt.currentTarget;\n  const Value = curTarget.elements.search.value.trim().toLowerCase();\n\n  if (!Value) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query.',\n      position: 'topRight',\n      timeout: 2000,\n    });\n    return;\n  }\n\n  showLoader();\n\n  getPictures(Value)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.warning({\n          title: 'Warning',\n          message: 'Nothing found for your request.',\n          position: 'topRight',\n          timeout: 2000,\n        });\n      } else {\n        galleryRender(data.hits);\n      }\n    })\n    .catch(onFetchError)\n    .finally(() => {\n      hideLoader();\n      form.reset();\n    });\n}\n\nfunction onFetchError(err) {\n  console.error('Fetch Error:', err);\n  hideLoader();\n}\n\nfunction showLoader() {\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n"],"names":["getPictures","name","res","galleryRender","arr","galleryList","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","SimpleLightbox","form","loader","handleSearch","evt","Value","iziToast","showLoader","data","onFetchError","hideLoader","err"],"mappings":"6vBAAO,SAASA,EAAYC,EAAM,CAKhC,OAAO,MACL,qEAA6CA,CAAI,uDAAkE,EAAU,EACjI,EAAI,KAAKC,GAAO,CAEZ,GADA,QAAQ,IAAIA,CAAG,EACX,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCZO,SAASC,EAAcC,EAAK,CACjC,MAAMC,EAAc,SAAS,cAAc,aAAa,EACxDA,EAAY,UAAY,GAExB,MAAMC,EAASF,EACZ,IACC,CAAC,CACC,cAAAG,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA;AAAA,eAEON,CAAa;AAAA,gBACZC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uBAKnBC,CAAK;AAAA;AAAA;AAAA;AAAA,uBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAK3B,EACA,KAAK,EAAE,EAEVR,EAAY,mBAAmB,aAAcC,CAAM,EAElC,IAAIQ,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,EACpB,CAAG,CAEH,CCnDA,MAAMC,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAK,CACzBA,EAAI,eAAc,EAGlB,MAAMC,EADYD,EAAI,cACE,SAAS,OAAO,MAAM,KAAI,EAAG,cAErD,GAAI,CAACC,EAAO,CACVC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,WACV,QAAS,GACf,CAAK,EACD,MACD,CAEDC,IAEArB,EAAYmB,CAAK,EACd,KAAKG,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBF,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,kCACT,SAAU,WACV,QAAS,GACnB,CAAS,EAEDjB,EAAcmB,EAAK,IAAI,CAE/B,CAAK,EACA,MAAMC,CAAY,EAClB,QAAQ,IAAM,CACbC,IACAT,EAAK,MAAK,CAChB,CAAK,CACL,CAEA,SAASQ,EAAaE,EAAK,CACzB,QAAQ,MAAM,eAAgBA,CAAG,EACjCD,GACF,CAEA,SAASH,GAAa,CACpBL,EAAO,MAAM,QAAU,OACzB,CAEA,SAASQ,GAAa,CACpBR,EAAO,MAAM,QAAU,MACzB"}